<div class="p-5">
  <div class="loading d-flex align-content-center justify-content-center " *ngIf="isLoading else Detailes">
    <div class="loader" ></div>
  </div>

  <ng-template #Detailes>
    <div class="detailes d-flex gap-5 ">
      <div class="images d-flex flex-column gap-3">
        <div class="imageProduts p-3">
          <img [src]="product.Image" [alt]="product.nameProduact" width="90%" />
        </div>
        <div class="smallIamges d-flex align-content-center gap-5 ">
          <img
            [src]="product.Image"
            [alt]="product.nameProduact"
            style="width: 90%"
          />
          <img
            [src]="product.Image"
            [alt]="product.nameProduact"
            style="width: 90%"
          />
          <img
            [src]="product.Image"
            [alt]="product.nameProduact"
            style="width: 90%"
          />
          
        </div>
      </div>

      <div class="infoDetailes">
        <h2 class="fs-1 h1 fw-bolder">{{ product.nameProduact }}</h2>
        <h4 class="fw-bold my-4 text-muted">
          {{ product.price | dollarToRiyal }}
        </h4>

        <ng-container *ngFor="let star of [1, 2, 3, 4, 5]; let i = index">
          <i
            class="bi starColor ms-2"
            [ngClass]="
              i < product.Rating
                ? 'bi-star-fill '
                : 'bi-star-fill text-secondary mx-1'
            "
          >
          </i>
        </ng-container>

        <p class="my-4 fw-medium w-75 text-opacity-25">{{ product.subTitle }}</p>

        <h4 class="fw-bold my-4">الحجم</h4>
        <div class="size d-flex gap-3">
          <span
            *ngFor="let size of sizes; let i = index"
            class="labelsize p-2 rounded"
            [class.active]="selectedSize === i"
            (click)="selectSize(i)"
          >
            {{ size }}
          </span>
        </div>

        <div class="Cart d-flex gap-3 mt-5">
          <button class="btnProdcut" (click)="handleCartAction(product)">
            {{ isProductInCart(product.id) ? "اذهب للسلة" : "أضف للسلة" }}
            <i
              [class]="
                isProductInCart(product.id)
                  ? 'bi bi-cart me-2'
                  : 'bi bi-bag-fill me-2'
              "
            ></i>
          </button>
        </div>

        <div class="line"></div>


      </div>
      
    </div>
    <div class="description  my-5 flex-column gap-4 d-flex align-items-center justify-content-center text-center">
      <h2>الوصف</h2>

      <p class="text-center">{{product.Title}}</p>
   </div>


    </ng-template>
</div>
