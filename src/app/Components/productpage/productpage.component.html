
    <!-- Products -->
    <app-banner [backgroundImage]="bannerImage" [TitlePage]="titlePage"></app-banner>
  
    <div class="d-flex align-content-end align-items-end justify-content-end m-5 custom-select h-25 position-relative">
      <select id="category" class="p-2 custom-dropdown" [(ngModel)]="selectedCategory" (change)="filterByCategory()">

        <option value="All">كل المنتجات</option>
        <option *ngFor="let category of products" [value]="category.depart">{{ category.depart }}</option>
      </select>
        <i class=" arrow-down bi bi-chevron-double-down"></i>
    </div>
    
    <div class="Products  text-center d-flex align-items-center flex-column">
  
      <div class="product d-flex align-items-center">
            <!-- Skeleton Loader -->
            <div *ngIf="loading  else Products" class="skeleton-container">
                <div class="skeleton-card" *ngFor="let _ of [1, 2, 3, 4, 5,6,7,8,9,10,11,12]"></div>
            </div>

            <!-- Actual Products -->
            <ng-template #Products>

                <div class="cardProdcut" *ngFor="let item of paginatedProducts">
                    <img [src]="item.Image" class="card-img-top" [alt]="item.nameProduact" loading="lazy">
                    <div class="cardBody">
                        <h5 class="cardtitle">{{item.nameProduact}}</h5>
                        <div class="disCount d-flex align-items-center justify-content-between">
                            <p class="cardPrice" *ngIf="item.dec">
                                {{ (item.price - (item.price * (item.dec / 100))) | number }} رس
                            </p>
                            <p class="beforeDec" *ngIf="item.dec">
                                <del>{{ item.price }} رس </del>
                            </p>
                            <p class="cardPrice" *ngIf="!item.dec">
                                {{ item.price }} رس
                            </p>
                        </div>
                        <ng-container *ngFor="let star of [1, 2, 3, 4, 5]; let i = index">
                            <i class="bi starColor mx-2"
                                [ngClass]="i < item.Rating ? 'bi-star-fill ' : 'bi-star-fill text-secondary mx-1'">
                            </i>
                        </ng-container>

                        <span class="offter" *ngIf="item.dec">{{item.dec}} % </span>
                    </div>
                    <div class="opreationBuy d-flex align-items-center justify-content-between">
                        <a class="btnEye" [routerLink]="['/products', item.id]">
                            <i class="bi bi-eye"></i>
                        </a>
                        <button class="btnProdcut" (click)="handleCartAction(item)">
                            {{ isProductInCart(item.id) ? 'اذهب للسلة' : 'أضف للسلة' }} 
                            <i [class]="isProductInCart(item.id) ? 'bi bi-cart' : 'bi bi-bag-fill me-2'"></i>
                        </button>
                    </div>
                </div>
            </ng-template>

        </div>
  
    </div>
    <!--End Products -->

    

<div *ngIf="!loading && paginatedProducts.length > 0" class="allopreationPaga d-flex align-content-center justify-content-center">
    <div class="pagination-controls">
      <button
        class="BtnPagination"
        (click)="goToPreviousPage()"
        [disabled]="currentPage === 1"
      >
        السابق
      </button>
      <div class="page-info">
        <span class="current-page NumpageActive">{{ currentPage }}</span>
        <span
          class="current-page NumpageActive NumpageNotActive"
          *ngIf="currentPage < numberOfPages()"
          (click)="goToPage(currentPage + 1)"
        >
          {{ currentPage + 1 }}
        </span>
        <span
          class="current-page NumpageActive NumpageNotActive"
          *ngIf="currentPage < numberOfPages() - 1"
          (click)="goToPage(currentPage + 2)"
        >
          {{ currentPage + 2 }}
        </span>
      </div>
      <button
        class="BtnPagination"
        (click)="goToNextPage()"
        [disabled]="currentPage === numberOfPages()"
      >
        التالي
      </button>
    </div>

 
  </div>